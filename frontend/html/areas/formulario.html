<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Formulario</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="stylesheet" href="../../styles/formulario.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Gayathri:wght@100;400;700&display=swap"
      rel="stylesheet"
    />

    <script src="../../javascript/formulario.js" defer></script>
  </head>

  <body>
    <!-- BOT√ìN REGRESAR -->
    <div class="div1">
      <img
        class="imgBtn"
        src="../../img/btnRegresar2.png"
        onclick="location.href = 'cedulasAreas.html'"
      />
    </div>

    <!-- HEADER CON IMAGEN -->
    <div class="divTop">
      <header class="header-banner">
        <img src="../../img/img_upibi.png" alt="Banner" />
        <div class="logos">
          <img src="../../img/logo_upibi.png" />
          <img src="../../img/logo_ciees.png" />
        </div>
      </header>
    </div>
    <!-- STEPPER -->

    <div class="divTop">
      <div class="stepper">
        <div class="step active" data-step="1">
          <div class="circle">1</div>
          <span>Datos<br />personales</span>
        </div>

        <div class="line completed"></div>

        <div class="step" data-step="2">
          <div class="circle">2</div>
          <span>Informaci√≥n<br />del proceso</span>
        </div>

        <div class="line"></div>

        <div class="step" data-step="3">
          <div class="circle">3</div>
          <span>Valoraci√≥n<br />argumentada</span>
        </div>

        <div class="line"></div>

        <div class="step" data-step="4">
          <div class="circle">4</div>
          <span>Evidencia</span>
        </div>
      </div>
    </div>

    <!-- CONTENIDO -->
    <main class="card">
      <section id="div_main_1" class="step-content active">
        <div id="accordion">
          <div id="accordion-header">
            <h2 id="nameCriterio"></h2>
            <span
              >Este formulario tiene como prop√≥sito apoyar el proceso de
              autoevaluaci√≥n del programa educativo, permitiendo analizar de
              manera reflexiva y sistem√°tica su desempe√±o con base en los
              criterios del Marco General de Evaluaci√≥n 2024 (CIEES),
              identificar fortalezas y √°reas de mejora, y sustentar acciones de
              mejora continua mediante evidencias.</span
            >
          </div>
        </div>
        <div id="accordion">
          <div id="accordion-header">
            <h2>Datos personales</h2>
            <h2 class="field-title">Nombre del responsable</h2>
            <input
              id="nombreResponsable"
              placeholder="Nombre completo empezando por Nombre(s)"
            />
            <h2 class="field-title">Cargo del responsable</h2>
            <input
              id="cargoResponsable"
              placeholder="Nombre del puesto que ejerce en la UPIBI"
            />
          </div>
        </div>
      </section>
      <section id="div_main_2" class="step-content">
        <!-- EJE -->
        <div class="accordion">
          <div class="accordion-header">
            <h2>Eje</h2>
            <span class="arrow">‚åÑ</span>
          </div>
          <div class="accordion-content">
            <div class="field-group">
              <h3 class="field-title">Nombre del eje</h3>
              <input id="ejeNombre" />
            </div>

            <div class="field-group">
              <h3 class="field-title">Descripci√≥n del eje</h3>
              <textarea id="ejeDescripcion" class="textArea-Descrip"></textarea>
            </div>
          </div>
        </div>

        <!-- CATEGOR√çA -->
        <div class="accordion">
          <div class="accordion-header">
            <h2>Categor√≠a</h2>
            <span class="arrow">‚åÑ</span>
          </div>
          <div class="accordion-content">
            <div class="field-group">
              <h3 class="field-title">Nombre de la categor√≠a</h3>
              <input id="categoriaNombre" />
            </div>

            <div class="field-group">
              <h3 class="field-title">Descripci√≥n de la categor√≠a</h3>
              <textarea id="categoriaDescripcion" class="textArea-Descrip"></textarea>
            </div>
          </div>
        </div>

        <!-- INDICADOR -->
        <div class="accordion">
          <div class="accordion-header">
            <h2>Indicador</h2>
            <span class="arrow">‚åÑ</span>
          </div>
          <div class="accordion-content">
            <div class="field-group">
              <h3 class="field-title">Nombre del indicador</h3>
              <input id="indicadorNombre" />
            </div>

            <div class="field-group">
              <h3 class="field-title" class="textArea-Descrip">Descripci√≥n del indicador</h3>
              <textarea id="indicadorDescripcion"></textarea>
            </div>
          </div>
        </div>

        <!-- EST√ÅNDAR -->
        <div class="accordion">
          <div class="accordion-header">
            <h2>Descripci√≥n del est√°ndar</h2>
            <span class="arrow">‚åÑ</span>
          </div>
          <div class="accordion-content">
            <div class="field-group">
              <h3 class="field-title">Nombre del est√°ndar</h3>
              <input id="estandarNombre" />
            </div>

            <div class="field-group">
              <h3 class="field-title">Descripci√≥n del est√°ndar</h3>
              <textarea id="estandarDescripcion" class="textArea-Descrip"></textarea>
            </div>
          </div>
        </div>

        <!-- CRITERIO -->
        <div class="accordion">
          <div class="accordion-header">
            <h2>Criterio</h2>
            <span class="arrow">‚åÑ</span>
          </div>
          <div class="accordion-content">
            <div class="field-group">
              <h3 class="field-title">Nombre del criterio</h3>
              <input id="criterioNombre" />
            </div>

            <div class="field-group">
              <h3 class="field-title">Descripci√≥n del criterio</h3>
              <textarea id="criterioDescripcion" class="textArea-Descrip"></textarea>
            </div>
          </div>
        </div>
      </section>

      <!-- PASO 3 -->
      <section id="div_main_3" class="step-content">
        <div id="accordion">
          <div id="accordion-header">
            <h2>Valoraci√≥n argumentada del est√°ndar</h2>
            <span
              >Redacte una valoraci√≥n argumentada que justifique el nivel de
              cumplimiento del est√°ndar, con base en los criterios establecidos
              y las evidencias del programa educativo que le competen a su
              √°rea.</span
            >
            <div class="ai-input-wrapper">
              <textarea
                id="valoraArgumentada"
                placeholder="Escribe aqu√≠ tu valoraci√≥n argumentada..."
              ></textarea>

              <div class="ai-input-footer">
                <span id="charCount">Palabras: 0</span>

                <button id="btnMejorarIA" type="button">
                  ‚ú® Mejorar redacci√≥n
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- PASO 4 -->
      <!-- ===============================
     STEP 4 ¬∑ EVIDENCIAS
=============================== -->
      <div id="div_main_4" class="step-content">
        <div id="accordion">
          <div id="accordion-header">
            <h2 class="step-title">Evidencias requeridas</h2>
            <hr />

            <p class="step-description">
              Adjunte evidencia documental que respalde la valoraci√≥n
              argumentada del est√°ndar. Suba archivos PDF que demuestren el
              cumplimiento de los criterios establecidos.
            </p>

            <!-- LISTA -->
            <div id="evidenciasGrid" class="evidencias-list"></div>

            <!-- ACCIONES -->
            <div class="evidencias-footer">
              <button id="btnAgregarEvidencia" class="btn-agregar">
                ‚ûï Agregar Evidencia
              </button>

              <button id="btnGuardarEvidencias" class="btn-guardar">
                üíæ Guardar evidencias
              </button>
            </div>

            <input
              type="file"
              id="inputEvidencia"
              accept="application/pdf"
              multiple
              hidden
            />
          </div>
        </div>
      </div>

      <div class="step-controls">
        <button id="btnPrev">Anterior</button>
        <button id="btnNext">Guardar</button>
        <button id="btnTerminar">Terminar</button>
      </div>
    </main>
    <div id="modalIA" class="modal-overlay hidden">
      <div class="modal-card">
        <h2>Revisi√≥n de la valoraci√≥n argumentada</h2>
        <p class="modal-subtitle">
          El texto ingresado no cumple con todos los elementos requeridos para
          una valoraci√≥n argumentada conforme al Marco General de Evaluaci√≥n
          CIEES 2024.
        </p>

        <ul id="listaFaltantes"></ul>

        <div class="modal-actions">
          <button id="cerrarModalIA" class="btn-primary" type="button">
            Revisar y corregir texto
          </button>
        </div>
      </div>
    </div>
    <div id="modalIAExterna" class="modal-overlay hidden">
      <div class="modal-card">
        <h2>Has alcanzado el l√≠mite de uso de IA</h2>

        <p class="modal-subtitle">
          Para continuar, puedes apoyarte en una herramienta externa de IA y
          despu√©s pegar aqu√≠ tu texto mejorado.
        </p>

        <p><strong>Te sugerimos usar:</strong></p>
        <ul>
          <li>ChatGPT</li>
          <li>Google Gemini</li>
          <li>Microsoft Copilot</li>
        </ul>

        <p><strong>Prompt sugerido:</strong></p>

        <pre
          id="promptIAExterna"
          style="
            background: #f3f4f6;
            padding: 12px;
            border-radius: 6px;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 240px;
            overflow-y: auto;
          "
        ></pre>

        <div class="modal-actions">
          <button id="copiarPromptIA" type="button">Copiar prompt</button>

          <button id="abrirChatGPT" type="button">Abrir en ChatGPT</button>

          <button id="cerrarModalIAExterna" type="button">Entendido</button>
        </div>
      </div>
    </div>
    <div id="appAlert" class="app-alert hidden">
      <div class="app-alert-card">
        <div class="app-alert-icon" id="appAlertIcon"></div>

        <div class="app-alert-content">
          <h3 id="appAlertTitle"></h3>
          <p id="appAlertMessage"></p>
        </div>

        <button id="appAlertClose" type="button">Entendido</button>
      </div>
    </div>
  </body>
</html>
